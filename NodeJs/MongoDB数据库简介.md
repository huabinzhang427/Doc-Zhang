# MongoDB 数据库简介

## 基础概念

**数据库和文件的主要区别**

* 数据库有数据库表、行和列的概念，让我们存储操作数据更方便
* 数据库提供了非常方便的接口，可以让 `node.js`、`php`、`java`、`.net` 很方便的实现增删改删查功能

**NoSql**

由于互联网的迅速发展，云计算与 Web2.0。这样大量的交互给数据库提出了更高的性能要
求，传统的数据库(本文泛指 SQL 数据库)，即关系数据库虽然具备良好的事物管理，
**但在处理大量数据的应用时很难在性能上满足设计要求**。NoSQL 就是主要为了解决当下大量高并发高要求的数据库应用需求，关系数据库具有严格的**参照性**，**一致性** ，**可用性**，**原子性**，**隔离性**等特点，因此会产生一些例如**表连接**等操作，这样会大大降低系统的性能。而在当前很多应用场景下对性能的要求远远强于传统数据库关注的点，**NoSQL 就是为了解决大规模数据与多样数据种类等问题，尤其是其中大数据的相关问题**。

NoSQL(NoSQL = Not Only SQL )，意即“不仅仅是 SQL”，它指的是非关系型的数据库，是以 `key-value`形式存储，和传统的关系型数据库不一样，不一定遵循传统数据库的一些基本要求，比如说遵循 SQL 标准 ACID 属性、表结构等等。NoSQL 最早被提出是在 20 世纪 80 年代，在当时更多是强调的是与关系数据库区别对待，最近这些年被提及的更多是强调协助解决大数据等相关问题。**NoSQL 在大数据时代有自己的意义**。

**NoSql数据库适用于**

* 数据模型比较简单
* 需要灵活性更强的 IT 系统
* 对数据库性能要求较高
* 不需要高度的数据一致性
* 对于给定 key，比较容易映射复杂值的环境

**什么时候建议使用 NoSql**

* 对数据库**高并发读写**的需求
* 对海量数据的高效率存储和访问的需求
* 对数据库的高可扩展性和高可用性的需求

**NoSql 和传统数据库简单对比**

非结构型数据库。没有行、列的概念。用 `JSON` 来存储数据。

集合就相当于“表 ”，文档就相当于“行”。

![image](https://github.com/huabinzhang427/Doc-Zhang/blob/master/NodeJs/images/WX20190322-173225@2x.png)

**NoSql数据库的四大分类**

* **键值(`key-value`)存储数据库**，简单、易部署。但是如果 DBA 只对部分值进行查询或更新的时候，key-value就显得效率低下。
* **列表存储数据库**，应对分布式存储的海量数据。
* **文档型数据库**，键值存储数据库的升级版，允许之间嵌套键值。比如 MongoDb
* **图形(Graph)数据库**，使用灵活的图形模型，并且能够扩展到多个服务器上。

## MongoDB

MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。他支持的数据结构非常松散，是类似 json 的 bson 格式，因此可以存储比较复杂的数据类 型。Mongo 最大的特点是他支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，几乎可以**实现类似关系数据库单表查询的绝大部分功能**，而且还支持**对数据建立索引**。它的特点是**高性能**、**易部署**、**易使用**，存储数据非常方便。

**MongoDB 安装**

* [MongoDB 官网](https://www.mongodb.com/)，下载安装包，安装完成配置环境变量。

* 打开 cmd 终端控制台，输入：`mongo` 命令查看是否配置成功。

* 新建一个存放数据库的文件夹(根目录data/db)，注意:不能有中文和空格，建议不要放在 C 盘

* 启动 MongoDB 服务，**服务端** :mongod **开启数据库服务**

```
mongod --dbpath C:\mongodb
```
`--dbpath` 就是选择数据库文档所在的文件夹。也就是说，mongoDB 中，真的有物理文件，对应一个个数据库。U 盘可以拷走。

注意:一定要保持，开机这个 CMD 不能动了，不能关，不能 ctrl+c。 一旦这个 cmd 有问题了，数据库就自动关闭了。


* **客户端**输入 mongo 命令连接服务端，客户端:mongo **使用数据库**

```
mongo (远程数据库---ip地址:端口)
```


[MongoDB 手册](https://docs.mongodb.org/manual/)

